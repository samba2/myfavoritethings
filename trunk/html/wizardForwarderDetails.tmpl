<div id=wizardForwarderDetails>
    <p>
        How do you want to setup the download URL?
    </p>

    <div class="subcolumns">
        <div class="c25l">
             <div class="subcl">
                <form action=<TMPL_VAR NAME=SCRIPTNAME> method=post>
                    <p>
                        <table>
                        	<tr>
                        		<td><p><input type="radio" name="forwarder" id="randomString" value="randomString" " <TMPL_VAR NAME=RANDOMSTRINGCHECKED> /> 
                        by 4 characters long random text</p></td>
                        	</tr>
                        	<tr>
                        		<td><p><input type="radio" name="forwarder" id="releaseName" value="releaseName"" <TMPL_VAR NAME=RELEASENAMECHECKED> /> by release ID</p></td>
                        	</tr>
                        	<tr>
                        		<td><p><input type="radio" name="forwarder" value="customString" id=customString <TMPL_VAR NAME=CUSTOMSTRINGCHECKED> /> by custom name</p></td>
                        	</tr>
                        	<tr>
                        		<td><input type=text id=textField name="customDir" value="<TMPL_VAR NAME=CUSTOMDIR>"</td>
                        	</tr>
                        </table>
                    </p>
                
                    <p class=highlight><TMPL_VAR NAME=ERRORMESSAGE></p>
                    <p> 
                        <input type="submit" value="Next">
                        <input type="hidden" name="rm" value="wizardUploadFile">
                        <input type="hidden" name="randomDirName" value="<TMPL_VAR NAME=RANDOM_DIR_NAME>">
                    </p>
                </form>
             </div>
        </div>
        <div class="75">
            <div class="subcr">
                
                <p style="padding-top:60px">
                    Your download URL is:<br> 
                    <TMPL_VAR NAME=DOWNLOAD_DEF_PATH>/<span style="font-weight:bold;" id="releaseUrl"></span>
                </p>
                
            </div>
        </div>         
    </div>
                
    <blockquote>
        <p>At this stage we define the web address which is printed on the download voucher. 'My Favorite Things' tries to create nice download addresses. So instead of <TMPL_VAR NAME=DOWNLOAD_CGI_PATH>?...
        it assembles something like <TMPL_VAR NAME=DOWNLOAD_DEF_PATH>/abcd.</p>
    
        <p>Each of your downloads you create with 'My Favorite Things' has a <u>seperate</u> web address. So your best-selling LP "The Dancing Monkeys - We are the monkeys" has for example the URL <TMPL_VAR NAME=DOWNLOAD_DEF_PATH>/abcd where as the single
        "The Dancing Monkeys - A monkey in Love" would have <TMPL_VAR NAME=DOWNLOAD_DEF_PATH>/edfs.</p>
    
        <p>At this step you define how the last part of the download web address, in the previous example the 'abcd'  or 'edfs' part, should be named.</p>
    </blockquote>  
</div>


 <script>
 $(document).ready(function(){
     
    var randomDir="<TMPL_VAR NAME=RANDOM_DIR_NAME>";
    var releaseId="<TMPL_VAR NAME=RELEASEID>";
    var customText="a-good-record"; 
    
  
    if ( $('#customString').attr('checked')) {
        $('#releaseUrl').text($('#textField').val());
        $('#textField').select();
    }
    else {
        $('#textField').attr('disabled', true);
        $('#releaseUrl').text(randomDir);
    }
  
	$('#randomString').click(function(){
        $('#releaseUrl').text(randomDir);
        $('#textField').val("");
        $('#textField').attr('disabled', true);
    });
	
	$('#releaseName').click(function(){
        $('#releaseUrl').text(releaseId);
        $('#textField').val("");
        $('#textField').attr('disabled', true);
    });
	
	$('#customString').click(function(){
        $('#releaseUrl').text(customText);
        $('#textField').removeAttr('disabled');
        $('#textField').val(customText);
        $('#textField').select();
    });

    // replace whitespace with "-" and
    // copy textfield content to release-url display
    $('#textField').keyup(function(){
        var textFieldData = $(this).val();
        textFieldData = textFieldData.replace(/ /g,"-");

        $('#releaseUrl').text(textFieldData );
        $(this).val(textFieldData);
    });
 })
 </script>


